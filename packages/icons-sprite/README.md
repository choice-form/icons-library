# @choiceform/icons-sprite

å°† SVG å›¾æ ‡æ–‡ä»¶ç”Ÿæˆä¸º SVG spriteï¼ˆsymbol æ ¼å¼ï¼‰ï¼Œæ”¯æŒ CLI å’Œ API ä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚

## ğŸ“¦ å®‰è£…

```bash
# pnpm
pnpm add @choiceform/icons-sprite

# npm
npm install @choiceform/icons-sprite

# yarn
yarn add @choiceform/icons-sprite
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### CLI ä½¿ç”¨

```bash
# åŸºç¡€ä½¿ç”¨
npx icons-sprite ./src/icons --output ./public/icons.svg

# ç”Ÿæˆç±»å‹å®šä¹‰
npx icons-sprite ./src/icons --output ./public/icons.svg --generate-types --types-output ./src/types/icons.d.ts

# ä½¿ç”¨é…ç½®æ–‡ä»¶
npx icons-sprite --config ./sprite.config.js

# åˆ›å»ºé…ç½®æ–‡ä»¶
npx icons-sprite init
```

### API ä½¿ç”¨

```typescript
import { generateSprite } from "@choiceform/icons-sprite";

const result = await generateSprite({
  input: "./src/icons",
  output: "./public/icons.svg",
  prefix: "icon-",
  optimize: true,
  generateTypes: true,
  typesOutput: "./src/types/icons.d.ts",
});

console.log(`ç”Ÿæˆäº† ${result.symbolCount} ä¸ªå›¾æ ‡`);
```

## âš™ï¸ é…ç½®

### é…ç½®æ–‡ä»¶

æ”¯æŒä»¥ä¸‹é…ç½®æ–‡ä»¶åï¼š

- `sprite.config.js`
- `sprite.config.mjs`
- `sprite.config.ts`
- `icons-sprite.config.js`
- `icons-sprite.config.mjs`
- `icons-sprite.config.ts`

```javascript
// sprite.config.js
export default {
  input: "./src/icons",
  output: "./public/icons.svg",
  prefix: "icon-",
  suffix: "",
  optimize: true,
  generateTypes: true,
  typesOutput: "./src/types/icons.d.ts",

  // è‡ªå®šä¹‰ ID ç”Ÿæˆ
  idGenerator: (filename, filepath) => {
    return filename.replace(/\.svg$/, "").toLowerCase();
  },

  // æ–‡ä»¶è¿‡æ»¤
  filter: (filepath) => {
    return !filepath.includes("deprecated");
  },

  // SVGO é…ç½®
  svgoConfig: {
    plugins: ["preset-default", { name: "removeViewBox", active: false }],
  },
};
```

### é…ç½®é€‰é¡¹

| é€‰é¡¹            | ç±»å‹                 | é»˜è®¤å€¼  | æè¿°                     |
| --------------- | -------------------- | ------- | ------------------------ |
| `input`         | `string \| string[]` | -       | è¾“å…¥ç›®å½•æˆ–æ–‡ä»¶æ¨¡å¼       |
| `output`        | `string`             | -       | è¾“å‡ºæ–‡ä»¶è·¯å¾„             |
| `prefix`        | `string`             | `''`    | Symbol ID å‰ç¼€           |
| `suffix`        | `string`             | `''`    | Symbol ID åç¼€           |
| `optimize`      | `boolean`            | `true`  | æ˜¯å¦ä¼˜åŒ– SVG             |
| `svgoConfig`    | `SvgoConfig`         | -       | SVGO é…ç½®                |
| `generateTypes` | `boolean`            | `false` | æ˜¯å¦ç”Ÿæˆ TypeScript ç±»å‹ |
| `typesOutput`   | `string`             | -       | TypeScript ç±»å‹è¾“å‡ºè·¯å¾„  |
| `idGenerator`   | `function`           | -       | è‡ªå®šä¹‰ ID ç”Ÿæˆå‡½æ•°       |
| `includeHidden` | `boolean`            | `false` | æ˜¯å¦åŒ…å«éšè—æ–‡ä»¶         |
| `filter`        | `function`           | -       | æ–‡ä»¶è¿‡æ»¤å‡½æ•°             |

## ğŸ“„ è¾“å‡ºæ ¼å¼

### SVG Sprite

```xml
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="icon-search" viewBox="0 0 24 24">
    <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
  </symbol>
  <symbol id="icon-home" viewBox="0 0 24 24">
    <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3"/>
  </symbol>
</svg>
```

### TypeScript ç±»å‹

```typescript
// Auto-generated by @choiceform/icons-sprite
export type IconName = "search" | "home" | "user";

export interface IconMap {
  search: string;
  home: string;
  user: string;
}

export const iconNames = ["search", "home", "user"] as const;
```

## ğŸ”§ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨

### 1. HTML ä¸­ä½¿ç”¨

```html
<!-- å¼•å…¥ sprite æ–‡ä»¶ -->
<svg style="display: none;">
  <!-- sprite å†…å®¹ -->
</svg>

<!-- ä½¿ç”¨å›¾æ ‡ -->
<svg>
  <use href="#icon-search"></use>
</svg>
```

### 2. React ä¸­ä½¿ç”¨

```tsx
// IconSprite.tsx
export function IconSprite() {
  return <svg style={{ display: "none" }}>{/* sprite å†…å®¹ */}</svg>;
}

// Icon.tsx
interface IconProps {
  name: string;
  size?: number;
  className?: string;
}

export function Icon({ name, size = 24, className }: IconProps) {
  return (
    <svg width={size} height={size} className={className}>
      <use href={`#${name}`} />
    </svg>
  );
}

// ä½¿ç”¨
<Icon name="icon-search" size={20} />;
```

### 3. Vue ä¸­ä½¿ç”¨

```vue
<!-- Icon.vue -->
<template>
  <svg :width="size" :height="size" :class="className">
    <use :href="`#${name}`" />
  </svg>
</template>

<script setup lang="ts">
interface Props {
  name: string;
  size?: number;
  className?: string;
}

withDefaults(defineProps<Props>(), {
  size: 24,
});
</script>

<!-- ä½¿ç”¨ -->
<Icon name="icon-search" :size="20" />
```

## ğŸ”¨ å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone <repo-url>
cd icons-sprite

# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»º
pnpm build

# æµ‹è¯•
pnpm test
```

## ğŸ“„ è®¸å¯è¯

MIT
